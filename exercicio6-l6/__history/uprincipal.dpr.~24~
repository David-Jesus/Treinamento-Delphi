program uprincipal;

{$APPTYPE CONSOLE}

{$R *.res}

uses
  System.SysUtils;

var
  wNumeroLido: String;
  wNumero    ,
  wContador  ,
  wSoma      : Integer;
begin
  while True do
    begin
      Writeln('Digite um número para verificar se ele é perfeito:');
      Readln(wNumeroLido);

      try
        if TryStrToInt(wNumeroLido, wNumero) then
           begin
             wNumero   := StrToInt(wNumeroLido);
             wContador := 1;
             wSoma     := 0;
             while (wContador < wNumero) do
               begin
                 if (wNumero mod wContador = 0) then
                    begin
                      wSoma := wSoma + wContador;
                      Writeln('É divisivel por : ' + IntToStr(wContador));
                    end;
                 wContador := wContador + 1;
               end;

             if (wSoma =  wNumero) then
                Writeln('O número é perfeito!')
             else
                Writeln('O número é perfeito!');

             Writeln('Digite Enter para sair.');
             Readln;
             Break;
           end
      else
        begin
          Writeln('');
          Writeln('Digite apenas números!');
           Writeln('');
        end;

      except
       on E: Exception do
       Writeln('Digite apenas números!');
      end;
    end;
end.
